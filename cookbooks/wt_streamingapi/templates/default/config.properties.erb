# This is the current schema version
streaming.schema.version=2.1
# This is the current api version
streaming.api.version=2.1
# This is the supported schema versions
streaming.supported.schema.versions=2(\.([01]))?
# This is the supported api versions
streaming.supported.api.versions=2(\.([01]))?

# This is the base url for the AUTH service
webtrends.authentication.baseUrl = <%=@auth_url%>/<%=@auth_version%>
# This is the url to the REST service for getting a token's detailed information
webtrends.authentication.tokenDetail = %%baseUrl%%/token/%%access_token%%

# This is the base url for the CAM service
webtrends.cam.baseUrl = <%=@cam_url%>
# This is the url to the REST service for getting product provisioning
webtrends.cam.provisioningDetail=%%baseUrl%%/account/%%accountId%%/product/%%productId%%
# This is the url to the REST service for stream types
webtrends.cam.streamType=%%baseUrl%%/product/sapi/streamtype
# This is the url to the REST service for getting the blacklist
webtrends.cam.blacklist=%%baseUrl%%/product/sapi/blacklist

# urls for wapi calls to get session details
streaming.wapi.baseUrl = <%= node[:wt_portfolio_edgeservice][:edgeserviceurl] %>
streaming.wapi.sessionDetailsUrl = %%baseUrl%%/streaming/v1/account/%%accountId%%/session/visitor/%%visitorId%%

usageConnString=jdbc:sqlserver://<%= @usagedbserver %>:1433;databaseName=<%= @usagedbname %>;user=<%= @usagedbuser %>;password=<%= @usagedbpwd %>;

# are we monitoring at all
monitoring.enabled = <%= node[:wt_monitoring][:monitoring_enabled] %>
# should we publish to jmx
monitoring.jmx.enabled = <%= node[:wt_monitoring][:jmx_enabled] %>
# The JMX port
monitoring.jmx.port =<%= node[:wt_streamingapi][:jmx_port] %>
# the prefix to append metrics being sent to graphite
monitoring.metric.prefix = <%= node[:wt_monitoring][:metric_prefix] %>

# Should we push metrics to graphite
monitoring.graphite.enabled=<%= node[:wt_streamingapi][:graphite_enabled] %>
# What is the host of graphite
monitoring.graphite.host=<%= node[:wt_monitoring][:graphite_server] %>
# What port is graphite listening on
monitoring.graphite.port=<%= node[:wt_monitoring][:graphite_port] %>
# How often (minutes) should we flush metrics to graphite
monitoring.graphite.interval=<%= node[:wt_streamingapi][:graphite_interval] %>
# Should we include the JVM metrics when sending to graphite
monitoring.graphite.vmmetrics=<%= node[:wt_streamingapi][:graphite_vmmetrics] %>
# This is a regular expression for which metrics should be sent on to graphite. All metrics are still exposed via JMX or the metrics endpoint
monitoring.graphite.regex=<%= node[:wt_streamingapi][:graphite_regex] %>

# Are health checks enabled
healthcheck.enabled=<%= node['wt_monitoring']['healthcheck_enabled'] %>
# This is for future use for having health checks bound to an alternative port
healthcheck.port=<%= node['wt_monitoring']['healthcheck_port'] %>

# Used for zmq connectivity
datacenter=<%= @datacenter %>
pod=<%= @pod %>
zookeeper.quorum=<%= @zookeeper_quorum  %>
streaming.zmq.znodeRoot=/StreamingZMQ
streaming.zmq.port=1543

# The amount of time (minutes) an exploratory session will run
streaming.explore.timeout=<%= @exploreTimeout %>
# The amount of time (minutes) between exploratory sessions
streaming.explore.quietPeriod=<%= @exploreQuietPeriod %>

# Proxy properties. Lease this section blank if you dont need proxy support.
<% if @auth_host.to_s != '' && @proxy_host.to_s != '' %>
easy.proxy.1 = <%= @auth_host %> -> <%= @proxy_host %>
<% end %>
