StreamProcessor { 
    include "common"
    akka {
        loglevel = DEBUG
        event-handlers=["akka.event.slf4j.Slf4jEventHandler"]
        event-handler-level="DEBUG"
        debug {
            receive=on
            lifecycle=on
            fsm = on
        }
        actor {
            serializers {
                java = "akka.serialization.JavaSerializer"
                proto = "akka.remote.serialization.ProtobufSerializer"
                bytes = "akka.serialization.ByteArraySerializer"
            }
            serialization-bindings {
                "com.webtrends.portfolio.common.processing.RequestMessage" = java
                "com.webtrends.portfolio.common.processing.ResponseMessage" = java
                "[B" = bytes
            } 
            provider = "akka.remote.RemoteActorRefProvider"
            deployment {
                /processor/worker {
#                    router = round-robin
                    router = smallest-mailbox
                    nr-of-instances = 5
                }
            }
  	}
        remote {
            transport = "akka.remote.netty.NettyRemoteTransport"
            netty {
                hostname = "<%= node[:fqdn] %>"
                port = <%= node['wt_stream_processor']['message_port'] %>
            }
        }
    }
}