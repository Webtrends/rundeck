<!--
  ~ Copyright 2012 Webtrends, Inc. All Rights Reserved.
  ~ WEBTRENDS PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
  ~
  ~ $Id: auto_install.xml,v 1.27 2008-04-03 17:04:56 peterc Exp $
  ~
  -->
<AutomatedInstallation langpack="eng">
        <com.izforge.izpack.panels.HTMLHelloPanel id="hello"/>
        <com.izforge.izpack.panels.HTMLLicencePanel id="licence"/>
        <com.izforge.izpack.panels.JDKPathPanel id="jdkdir">
          <JDKPath><%=@java_home%></JDKPath>
        </com.izforge.izpack.panels.JDKPathPanel>
        <com.izforge.izpack.panels.TargetPanel id="install">
                <installpath><%=@config['basedir']%></installpath>
        </com.izforge.izpack.panels.TargetPanel>
        <com.izforge.izpack.panels.UserInputPanel id="servermode">
        <userInput>
                <entry key="JBOSS_HOME" value="<%=@config['basedir']%>/jboss"/>
                <!-- entry key="INSTALL_PATH" value="<%=@config['basedir']%>/ots"/-->
                <entry key="CONSOLE_THRESHOLD" value="<%=@config['loglevel']%>"/>
                <entry key="FRONT_END_URL" value="<%=@config['ots']['frontend_url']%>"/>
                <entry key="OTS_PROTOCOL" value="<%=@config['ots']['ssl'] ? "https" : "http"%>"/>
                <entry key="OTS_SERVER_MODE" value="saas"/>
        </userInput>
        </com.izforge.izpack.panels.UserInputPanel>
        <com.izforge.izpack.panels.UserInputPanel id="provisioningkey">
        <userInput>
                <entry key="PROVISIONING_KEY" value="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"/>
                <entry key="WAS_SERVER_NAME" value="<%=@config['was']['frontend_url']%>"/>
                <entry key="WAS_PROTOCOL" value="<%=@config['was']['ssl'] ? "https" : "http"%>"/>
                <entry key="JBOSS_ARGS" value=""/>
        </userInput>
        </com.izforge.izpack.panels.UserInputPanel>
        <com.izforge.izpack.panels.UserInputPanel id="clustersettings">
        <userInput>
                <entry key="HORNETQ_SERVER" value="<%=@config['hornetq']['address']%>"/>
                <entry key="OTS_GEOLOCATION_SERVER" value="<%=@config['ots']['geolocation_server']%>"/>
                <entry key="MEMCACHE_SERVERS_LIST" value="<%=@config['ots']['memcache_servers'].join(" ")%>"/>
                <entry key="VOLDEMORT_SERVERS_LIST" value="<%=@config['ots']['voldemort_servers'].join(",")%>"/>
                <entry key="OTS_PARTITION_NAME" value="OTS-<%=node[:wop_server][:env]%>"/>
                <entry key="POD_ID" value="<%=@config['ots']['pod_id']%>"/>
                <entry key="APPENDER_DIRECTORY" value="<%=@config['cluster']['dir_prefix']%>-<%=node[:wop_server][:env]%>/appender"/>
                <entry key="OUTPUT_DIR" value="<%=@config['cluster']['dir_prefix']%>-<%=node[:wop_server][:env]%>/output"/>
        </userInput>
        </com.izforge.izpack.panels.UserInputPanel>
        <com.izforge.izpack.panels.UserInputPanel id="moversettings">
        <userInput>
                <entry key="DATA_SERVER_USER" value="noopuser"/>
                <entry key="DATA_SERVER_PASSWORD" value="noopwd"/>
        </userInput>
        </com.izforge.izpack.panels.UserInputPanel>
        <com.izforge.izpack.panels.PacksPanel id="packs">
                <pack index="0" name="Web Application Container" selected="true"/>
                <pack index="1" name="Optimize Tracking Service" selected="true"/>
                <pack index="2" name="Configuration Files" selected="true"/>
                <pack index="3" name="Configuration - Standalone Server" selected="false"/>
                <pack index="4" name="Configuration - Clustered Server" selected="false"/>
                <pack index="5" name="Configuration - Clustered Task Server" selected="false"/>
                <pack index="6" name="Configuration - SaaS Server" selected="true"/>
                <pack index="7" name="Configuration - Task Server" selected="false"/>
                <pack index="8" name="Documentation" selected="true"/>
        </com.izforge.izpack.panels.PacksPanel>
        <com.izforge.izpack.panels.ShortcutPanel id="shortcut">
          <programGroup name="Webtrends"/>
          <shortcut KdeSubstUID="false" categories="" commandLine="" createForAll="false" description="Runs Optimize On-Premeses" encoding="" group="false" icon="<%=@config['basedir']%>/jboss/bin/webtrends.ico" iconIndex="0" initialState="1" mimetype="" name="OTS (Windowed Mode)" target="<%=@config['basedir']%>/jboss/bin/run.sh" terminal="" terminalOptions="" tryexec="" type="1" url="" usertype="0" workingDirectory="<%=@config['basedir']%>/jboss/bin"/>
          <shortcut KdeSubstUID="false" categories="" commandLine="" createForAll="false" description="Uninstalls Optimize On-Premises" encoding="" group="true" icon="" iconIndex="0" initialState="1" mimetype="" name="Uninstall Optimize On-Premises" target="<%=@config['basedir']%>/Uninstaller/uninstaller.jar" terminal="" terminalOptions="" tryexec="" type="1" url="" usertype="0" workingDirectory=""/>
        </com.izforge.izpack.panels.ShortcutPanel>
        <com.izforge.izpack.panels.SummaryPanel id="summary"/>
        <com.izforge.izpack.panels.InstallPanel id="install"/>
        <!--com.izforge.izpack.panels.ProcessPanel id="process"/-->
        <com.izforge.izpack.panels.FinishPanel id="finish"/>
</AutomatedInstallation>

